<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Glock Simulation (2D)</title>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background: #111;
    }

    #game-area {
      position: relative;
      width: 100vw;
      height: 100vh;
      overflow: hidden;
    }

    .gun {
      position: absolute;
      width: 200px;
      height: 100px;
      bottom: 50px;
      left: 50%;
      transform: translateX(-50%);
    }

    .body {
      width: 200px;
      height: 50px;
      background: #333;
      position: absolute;
      bottom: 0;
    }

    .slide {
      width: 200px;
      height: 20px;
      background: #555;
      position: absolute;
      top: 0;
      transition: transform 0.1s;
    }

    .trigger {
      width: 20px;
      height: 30px;
      background: #aaa;
      position: absolute;
      bottom: 0;
      left: 90px;
      transition: transform 0.1s;
    }

    .bullet {
      width: 10px;
      height: 10px;
      background: yellow;
      border-radius: 50%;
      position: absolute;
    }

    .ground {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 20px;
      background: #222;
    }
  </style>
</head>
<body>

<div id="game-area">
  <div class="gun">
    <div class="slide"></div>
    <div class="body"></div>
    <div class="trigger"></div>
  </div>
  <div class="ground"></div>
</div>

<!-- Shoot Sound -->
<audio id="shoot-sound" src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_95c3dbddfa.mp3" preload="auto"></audio>

<script>
  const gameArea = document.getElementById("game-area");
  const trigger = document.querySelector(".trigger");
  const slide = document.querySelector(".slide");
  const shootSound = document.getElementById("shoot-sound");

  document.addEventListener("mousedown", () => {
    shoot();
  });

  function shoot() {
    // Animate trigger pull
    trigger.style.transform = "translateY(5px)";
    slide.style.transform = "translateX(-10px)";

    // Reset trigger and slide
    setTimeout(() => {
      trigger.style.transform = "translateY(0)";
      slide.style.transform = "translateX(0)";
    }, 100);

    // Play sound
    shootSound.currentTime = 0;
    shootSound.play();

    // Create bullet
    const bullet = document.createElement("div");
    bullet.className = "bullet";

    // Position bullet at gun's tip
    const gun = document.querySelector(".gun");
    const rect = gun.getBoundingClientRect();
    bullet.style.left = (rect.left + rect.width / 2 - 5) + "px";
    bullet.style.top = (rect.top + 10) + "px";
    gameArea.appendChild(bullet);

    // Animate bullet
    let velocityY = -5;
    let gravity = 0.15;

    function moveBullet() {
      const top = parseFloat(bullet.style.top);
      if (top >= window.innerHeight - 30) {
        // Collision with ground
        bullet.remove();
        return;
      }

      velocityY += gravity;
      bullet.style.top = top + velocityY + "px";

      requestAnimationFrame(moveBullet);
    }

    moveBullet();
  }
</script>

</body>
</html>
